{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _utils = require('./utils');\n\nvar _selectors = require('./selectors');\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar transformSubstate = function transformSubstate(substate, path, value) {\n  var name = path[0];\n  var newValue = value;\n\n  if (path.length === 2) {\n    var id = path[1];\n\n    if (!value) {\n      newValue = _extends({}, substate[name]);\n      delete newValue[id];\n    } else {\n      newValue = _extends({}, substate[name], _defineProperty({}, id, true));\n    }\n\n    if (Object.keys(newValue).length === 0) {\n      newValue = false;\n    }\n  }\n\n  return _extends({}, substate, _defineProperty({}, name, newValue));\n};\n\nvar omit = function omit(substate, path) {\n  var name = path[0];\n\n  if (path.length === 1) {\n    var newState = _extends({}, substate);\n\n    delete newState[name];\n    return newState;\n  }\n\n  if (_typeof(substate[name]) !== 'object') {\n    return substate;\n  }\n\n  return transformSubstate(substate, path, false);\n};\n\nvar cleanState = function cleanState(state, path) {\n  var _extends4;\n\n  return _extends({}, state, (_extends4 = {}, _defineProperty(_extends4, _selectors.PENDING, omit(state[_selectors.PENDING], path)), _defineProperty(_extends4, _selectors.REJECTED, omit(state[_selectors.REJECTED], path)), _defineProperty(_extends4, _selectors.FULFILLED, omit(state[_selectors.FULFILLED], path)), _defineProperty(_extends4, _selectors.DONE, omit(state[_selectors.DONE], path)), _extends4));\n};\n\nvar transformState = function transformState(state, path, pending, rejected, fulfilled, done) {\n  var _extends5;\n\n  return _extends({}, state, (_extends5 = {}, _defineProperty(_extends5, _selectors.PENDING, transformSubstate(state[_selectors.PENDING], path, pending)), _defineProperty(_extends5, _selectors.REJECTED, transformSubstate(state[_selectors.REJECTED], path, rejected)), _defineProperty(_extends5, _selectors.FULFILLED, transformSubstate(state[_selectors.FULFILLED], path, fulfilled)), _defineProperty(_extends5, _selectors.DONE, transformSubstate(state[_selectors.DONE], path, done)), _extends5));\n};\n\nexports.default = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _selectors.initialState;\n  var action = arguments[1];\n  if (!(0, _utils.isThunkAction)(action)) return state;\n  var name = (0, _utils.getThunkName)(action);\n  var path = (0, _utils.hasId)(action) ? [name, (0, _utils.getThunkId)(action)] : [name];\n  if ((0, _utils.isCleanAction)(action)) return cleanState(state, path);\n\n  if ((0, _utils.isThunkRequestAction)(action)) {\n    return transformState(state, path, true, false, false, false);\n  } else if (action.error) {\n    return transformState(state, path, false, true, false, true);\n  }\n\n  return transformState(state, path, false, false, true, true);\n};","map":{"version":3,"sources":["/Users/azraibric/Documents/PorukeMotivacije/node_modules/redux-saga-thunk/dist/reducer.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","call","_utils","require","_selectors","_defineProperty","enumerable","configurable","writable","transformSubstate","substate","path","name","newValue","id","keys","omit","newState","cleanState","state","_extends4","PENDING","REJECTED","FULFILLED","DONE","transformState","pending","rejected","fulfilled","done","_extends5","default","undefined","initialState","action","isThunkAction","getThunkName","hasId","getThunkId","isCleanAction","isThunkRequestAction","error"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('./utils');\n\nvar _selectors = require('./selectors');\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar transformSubstate = function transformSubstate(substate, path, value) {\n  var name = path[0];\n  var newValue = value;\n\n  if (path.length === 2) {\n    var id = path[1];\n\n    if (!value) {\n      newValue = _extends({}, substate[name]);\n      delete newValue[id];\n    } else {\n      newValue = _extends({}, substate[name], _defineProperty({}, id, true));\n    }\n\n    if (Object.keys(newValue).length === 0) {\n      newValue = false;\n    }\n  }\n\n  return _extends({}, substate, _defineProperty({}, name, newValue));\n};\n\nvar omit = function omit(substate, path) {\n  var name = path[0];\n\n  if (path.length === 1) {\n    var newState = _extends({}, substate);\n    delete newState[name];\n    return newState;\n  }\n\n  if (_typeof(substate[name]) !== 'object') {\n    return substate;\n  }\n\n  return transformSubstate(substate, path, false);\n};\n\nvar cleanState = function cleanState(state, path) {\n  var _extends4;\n\n  return _extends({}, state, (_extends4 = {}, _defineProperty(_extends4, _selectors.PENDING, omit(state[_selectors.PENDING], path)), _defineProperty(_extends4, _selectors.REJECTED, omit(state[_selectors.REJECTED], path)), _defineProperty(_extends4, _selectors.FULFILLED, omit(state[_selectors.FULFILLED], path)), _defineProperty(_extends4, _selectors.DONE, omit(state[_selectors.DONE], path)), _extends4));\n};\n\nvar transformState = function transformState(state, path, pending, rejected, fulfilled, done) {\n  var _extends5;\n\n  return _extends({}, state, (_extends5 = {}, _defineProperty(_extends5, _selectors.PENDING, transformSubstate(state[_selectors.PENDING], path, pending)), _defineProperty(_extends5, _selectors.REJECTED, transformSubstate(state[_selectors.REJECTED], path, rejected)), _defineProperty(_extends5, _selectors.FULFILLED, transformSubstate(state[_selectors.FULFILLED], path, fulfilled)), _defineProperty(_extends5, _selectors.DONE, transformSubstate(state[_selectors.DONE], path, done)), _extends5));\n};\n\nexports.default = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _selectors.initialState;\n  var action = arguments[1];\n\n  if (!(0, _utils.isThunkAction)(action)) return state;\n  var name = (0, _utils.getThunkName)(action);\n  var path = (0, _utils.hasId)(action) ? [name, (0, _utils.getThunkId)(action)] : [name];\n\n  if ((0, _utils.isCleanAction)(action)) return cleanState(state, path);\n\n  if ((0, _utils.isThunkRequestAction)(action)) {\n    return transformState(state, path, true, false, false, false);\n  } else if (action.error) {\n    return transformState(state, path, false, true, false, true);\n  }\n  return transformState(state, path, false, false, true, true);\n};"]},"metadata":{},"sourceType":"script"}