{"ast":null,"code":"import { b as _objectSpread, d as _extends, c as _taggedTemplateLiteralLoose, a as _objectWithoutPropertiesLoose } from './chunk-eb25cfa0.js';\nimport { theme } from 'styled-tools';\nimport styled from './styled.js';\nimport use from './use.js';\nimport { createElement } from 'react';\nimport { object, func, bool } from 'prop-types';\nimport Box from './Box.js';\nimport { a as hoist } from './chunk-0cd02bff.js';\nimport { a as callAll } from './chunk-11bd1c20.js';\nimport { Container } from 'constate';\n\nfunction omit(object$$1) {\n  var keys = Object.keys(object$$1);\n  var result = {};\n\n  for (var _len = arguments.length, paths = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    paths[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    if (paths.indexOf(key) === -1) {\n      result[key] = object$$1[key];\n    }\n  }\n\n  return result;\n}\n\nvar initialState = {\n  loop: false,\n  ids: [],\n  current: -1,\n  ordered: {}\n};\nvar selectors = {\n  getCurrentId: function getCurrentId() {\n    return function (state) {\n      return state.ids[state.current];\n    };\n  },\n  hasPrevious: function hasPrevious() {\n    return function (state) {\n      return state.ids.length > 1 && !!state.ids[state.current - 1];\n    };\n  },\n  hasNext: function hasNext() {\n    return function (state) {\n      return state.ids.length > 1 && !!state.ids[state.current + 1];\n    };\n  },\n  indexOf: function indexOf(idOrIndex) {\n    return function (state) {\n      return typeof idOrIndex === \"number\" ? idOrIndex : state.ids.indexOf(idOrIndex);\n    };\n  },\n  isCurrent: function isCurrent(idOrIndex) {\n    return function (state) {\n      return state.current >= 0 && state.current === selectors.indexOf(idOrIndex)(state);\n    };\n  }\n};\nvar actions = {\n  show: function show(idOrIndex) {\n    return function (state) {\n      return {\n        current: selectors.indexOf(idOrIndex)(state)\n      };\n    };\n  },\n  hide: function hide() {\n    return function () {\n      return {\n        current: -1\n      };\n    };\n  },\n  toggle: function toggle(idOrIndex) {\n    return function (state) {\n      return selectors.isCurrent(idOrIndex)(state) ? actions.hide()(state) : actions.show(idOrIndex)(state);\n    };\n  },\n  previous: function previous() {\n    return function (state) {\n      if (selectors.hasPrevious()(state)) {\n        return {\n          current: state.current - 1\n        };\n      }\n\n      if (state.loop) {\n        return {\n          current: state.ids.length - 1\n        };\n      }\n\n      return {};\n    };\n  },\n  next: function next() {\n    return function (state) {\n      if (selectors.hasNext()(state)) {\n        return {\n          current: state.current + 1\n        };\n      }\n\n      if (state.loop) {\n        return {\n          current: 0\n        };\n      }\n\n      return {};\n    };\n  },\n  reorder: function reorder(id, order) {\n    if (order === void 0) {\n      order = 0;\n    }\n\n    return function (state) {\n      var _objectSpread2;\n\n      var ordered = _objectSpread({}, state.ordered, (_objectSpread2 = {}, _objectSpread2[id] = order, _objectSpread2));\n\n      var ids = state.ids.slice().sort(function (a, b) {\n        return (ordered[a] || 0) - (ordered[b] || 0);\n      });\n      return _objectSpread({\n        ordered: ordered,\n        ids: ids\n      }, selectors.isCurrent(id)(state) ? actions.show(id)(_objectSpread({}, state, {\n        ids: ids\n      })) : {});\n    };\n  },\n  register: function register(id, order) {\n    if (order === void 0) {\n      order = 0;\n    }\n\n    return function (state) {\n      var ids = state.ids.indexOf(id) >= 0 ? state.ids : [].concat(state.ids, [id]);\n      return actions.reorder(id, order)(_objectSpread({}, state, {\n        ids: ids\n      }));\n    };\n  },\n  unregister: function unregister(id) {\n    return function (state) {\n      var index = selectors.indexOf(id)(state);\n\n      if (index === -1) {\n        return {};\n      }\n\n      var ordered = omit(state.ordered, state.ids[index]);\n      var ids = [].concat(state.ids.slice(0, index), state.ids.slice(index + 1));\n\n      if (selectors.isCurrent(id)(state) && !selectors.hasNext()(state)) {\n        if (selectors.hasPrevious()(state)) {\n          return _objectSpread({}, actions.previous()(state), {\n            ids: ids,\n            ordered: ordered\n          });\n        }\n\n        return _objectSpread({}, actions.hide()(state), {\n          ids: ids,\n          ordered: ordered\n        });\n      }\n\n      if (state.current >= ids.length) {\n        return {\n          current: ids.length - 1,\n          ids: ids,\n          ordered: ordered\n        };\n      }\n\n      return {\n        ids: ids,\n        ordered: ordered\n      };\n    };\n  },\n  update: function update(id, nextId, orderArg) {\n    return function (state) {\n      var order = typeof orderArg !== \"undefined\" ? orderArg : state.ordered[id];\n      var idChanged = id !== nextId;\n      var orderChanged = order !== state.ordered[id];\n      if (!idChanged && !orderChanged) return {};\n      var overridingId = idChanged && state.ids.indexOf(nextId) >= 0;\n\n      if (overridingId) {\n        var nextOrderChanged = order !== state.ordered[nextId];\n        var nextState = nextOrderChanged ? actions.reorder(nextId, order)(state) : {};\n        return actions.unregister(id)(_objectSpread({}, state, nextState));\n      }\n\n      var index = selectors.indexOf(id)(state);\n      var ids = [].concat(state.ids.slice(0, index), [nextId], state.ids.slice(index + 1));\n      return actions.reorder(nextId, order)(_objectSpread({}, state, {\n        ids: ids\n      }));\n    };\n  }\n}; // istanbul ignore next\n\nvar StepContainer = function StepContainer(props) {\n  return createElement(Container, _extends({}, props, {\n    initialState: _objectSpread({}, initialState, props.initialState),\n    selectors: selectors,\n    actions: actions\n  }));\n}; // @ts-ignore\n\n\nStepContainer.propTypes = {\n  initialState: object\n};\nvar StepContainer$1 = Object.assign(StepContainer, {\n  initialState: initialState,\n  actions: actions,\n  selectors: selectors\n});\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar StepNextComponent = function StepNextComponent(_ref) {\n  var onClick = _ref.onClick,\n      props = _objectWithoutPropertiesLoose(_ref, [\"onClick\"]);\n\n  return createElement(Box, _extends({\n    onClick: callAll(props.next, onClick),\n    disabled: !props.loop && props.hasNext && !props.hasNext()\n  }, props));\n};\n\nvar StepNext = styled(hoist(StepNextComponent, Box))(_templateObject(), theme(\"StepNext\")); // @ts-ignore\n\nStepNext.propTypes = {\n  next: func.isRequired,\n  hasNext: func,\n  loop: bool,\n  onClick: func\n};\nvar StepNext$1 = use(StepNext, \"button\");\n\nfunction _templateObject$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  \", \";\\n\"]);\n\n  _templateObject$1 = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar StepPreviousComponent = function StepPreviousComponent(_ref) {\n  var onClick = _ref.onClick,\n      props = _objectWithoutPropertiesLoose(_ref, [\"onClick\"]);\n\n  return createElement(Box, _extends({\n    onClick: callAll(props.previous, onClick),\n    disabled: !props.loop && props.hasPrevious && !props.hasPrevious()\n  }, props));\n};\n\nvar StepPrevious = styled(hoist(StepPreviousComponent, Box))(_templateObject$1(), theme(\"StepPrevious\")); // @ts-ignore\n\nStepPrevious.propTypes = {\n  previous: func.isRequired,\n  hasPrevious: func,\n  loop: bool,\n  onClick: func\n};\nvar StepPrevious$1 = use(StepPrevious, \"button\");\nexport { StepContainer$1 as a, StepNext$1 as b, StepPrevious$1 as c };","map":{"version":3,"sources":["/Users/azraibric/Documents/poruke-admin/node_modules/reakit/es/chunk-abdb64f9.js"],"names":["b","_objectSpread","d","_extends","c","_taggedTemplateLiteralLoose","a","_objectWithoutPropertiesLoose","theme","styled","use","createElement","object","func","bool","Box","hoist","callAll","Container","omit","object$$1","keys","Object","result","_len","arguments","length","paths","Array","_key","i","key","indexOf","initialState","loop","ids","current","ordered","selectors","getCurrentId","state","hasPrevious","hasNext","idOrIndex","isCurrent","actions","show","hide","toggle","previous","next","reorder","id","order","_objectSpread2","slice","sort","register","concat","unregister","index","update","nextId","orderArg","idChanged","orderChanged","overridingId","nextOrderChanged","nextState","StepContainer","props","propTypes","StepContainer$1","assign","_templateObject","data","StepNextComponent","_ref","onClick","disabled","StepNext","isRequired","StepNext$1","_templateObject$1","StepPreviousComponent","StepPrevious","StepPrevious$1"],"mappings":"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","sourcesContent":["import { b as _objectSpread, d as _extends, c as _taggedTemplateLiteralLoose, a as _objectWithoutPropertiesLoose } from './chunk-eb25cfa0.js';\nimport { theme } from 'styled-tools';\nimport styled from './styled.js';\nimport use from './use.js';\nimport { createElement } from 'react';\nimport { object, func, bool } from 'prop-types';\nimport Box from './Box.js';\nimport { a as hoist } from './chunk-0cd02bff.js';\nimport { a as callAll } from './chunk-11bd1c20.js';\nimport { Container } from 'constate';\n\nfunction omit(object$$1) {\n  var keys = Object.keys(object$$1);\n  var result = {};\n\n  for (var _len = arguments.length, paths = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    paths[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    if (paths.indexOf(key) === -1) {\n      result[key] = object$$1[key];\n    }\n  }\n\n  return result;\n}\n\nvar initialState = {\n  loop: false,\n  ids: [],\n  current: -1,\n  ordered: {}\n};\nvar selectors = {\n  getCurrentId: function getCurrentId() {\n    return function (state) {\n      return state.ids[state.current];\n    };\n  },\n  hasPrevious: function hasPrevious() {\n    return function (state) {\n      return state.ids.length > 1 && !!state.ids[state.current - 1];\n    };\n  },\n  hasNext: function hasNext() {\n    return function (state) {\n      return state.ids.length > 1 && !!state.ids[state.current + 1];\n    };\n  },\n  indexOf: function indexOf(idOrIndex) {\n    return function (state) {\n      return typeof idOrIndex === \"number\" ? idOrIndex : state.ids.indexOf(idOrIndex);\n    };\n  },\n  isCurrent: function isCurrent(idOrIndex) {\n    return function (state) {\n      return state.current >= 0 && state.current === selectors.indexOf(idOrIndex)(state);\n    };\n  }\n};\nvar actions = {\n  show: function show(idOrIndex) {\n    return function (state) {\n      return {\n        current: selectors.indexOf(idOrIndex)(state)\n      };\n    };\n  },\n  hide: function hide() {\n    return function () {\n      return {\n        current: -1\n      };\n    };\n  },\n  toggle: function toggle(idOrIndex) {\n    return function (state) {\n      return selectors.isCurrent(idOrIndex)(state) ? actions.hide()(state) : actions.show(idOrIndex)(state);\n    };\n  },\n  previous: function previous() {\n    return function (state) {\n      if (selectors.hasPrevious()(state)) {\n        return {\n          current: state.current - 1\n        };\n      }\n\n      if (state.loop) {\n        return {\n          current: state.ids.length - 1\n        };\n      }\n\n      return {};\n    };\n  },\n  next: function next() {\n    return function (state) {\n      if (selectors.hasNext()(state)) {\n        return {\n          current: state.current + 1\n        };\n      }\n\n      if (state.loop) {\n        return {\n          current: 0\n        };\n      }\n\n      return {};\n    };\n  },\n  reorder: function reorder(id, order) {\n    if (order === void 0) {\n      order = 0;\n    }\n\n    return function (state) {\n      var _objectSpread2;\n\n      var ordered = _objectSpread({}, state.ordered, (_objectSpread2 = {}, _objectSpread2[id] = order, _objectSpread2));\n\n      var ids = state.ids.slice().sort(function (a, b) {\n        return (ordered[a] || 0) - (ordered[b] || 0);\n      });\n      return _objectSpread({\n        ordered: ordered,\n        ids: ids\n      }, selectors.isCurrent(id)(state) ? actions.show(id)(_objectSpread({}, state, {\n        ids: ids\n      })) : {});\n    };\n  },\n  register: function register(id, order) {\n    if (order === void 0) {\n      order = 0;\n    }\n\n    return function (state) {\n      var ids = state.ids.indexOf(id) >= 0 ? state.ids : [].concat(state.ids, [id]);\n      return actions.reorder(id, order)(_objectSpread({}, state, {\n        ids: ids\n      }));\n    };\n  },\n  unregister: function unregister(id) {\n    return function (state) {\n      var index = selectors.indexOf(id)(state);\n\n      if (index === -1) {\n        return {};\n      }\n\n      var ordered = omit(state.ordered, state.ids[index]);\n      var ids = [].concat(state.ids.slice(0, index), state.ids.slice(index + 1));\n\n      if (selectors.isCurrent(id)(state) && !selectors.hasNext()(state)) {\n        if (selectors.hasPrevious()(state)) {\n          return _objectSpread({}, actions.previous()(state), {\n            ids: ids,\n            ordered: ordered\n          });\n        }\n\n        return _objectSpread({}, actions.hide()(state), {\n          ids: ids,\n          ordered: ordered\n        });\n      }\n\n      if (state.current >= ids.length) {\n        return {\n          current: ids.length - 1,\n          ids: ids,\n          ordered: ordered\n        };\n      }\n\n      return {\n        ids: ids,\n        ordered: ordered\n      };\n    };\n  },\n  update: function update(id, nextId, orderArg) {\n    return function (state) {\n      var order = typeof orderArg !== \"undefined\" ? orderArg : state.ordered[id];\n      var idChanged = id !== nextId;\n      var orderChanged = order !== state.ordered[id];\n      if (!idChanged && !orderChanged) return {};\n      var overridingId = idChanged && state.ids.indexOf(nextId) >= 0;\n\n      if (overridingId) {\n        var nextOrderChanged = order !== state.ordered[nextId];\n        var nextState = nextOrderChanged ? actions.reorder(nextId, order)(state) : {};\n        return actions.unregister(id)(_objectSpread({}, state, nextState));\n      }\n\n      var index = selectors.indexOf(id)(state);\n      var ids = [].concat(state.ids.slice(0, index), [nextId], state.ids.slice(index + 1));\n      return actions.reorder(nextId, order)(_objectSpread({}, state, {\n        ids: ids\n      }));\n    };\n  }\n}; // istanbul ignore next\n\nvar StepContainer = function StepContainer(props) {\n  return createElement(Container, _extends({}, props, {\n    initialState: _objectSpread({}, initialState, props.initialState),\n    selectors: selectors,\n    actions: actions\n  }));\n}; // @ts-ignore\n\n\nStepContainer.propTypes = {\n  initialState: object\n};\nvar StepContainer$1 = Object.assign(StepContainer, {\n  initialState: initialState,\n  actions: actions,\n  selectors: selectors\n});\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar StepNextComponent = function StepNextComponent(_ref) {\n  var onClick = _ref.onClick,\n      props = _objectWithoutPropertiesLoose(_ref, [\"onClick\"]);\n\n  return createElement(Box, _extends({\n    onClick: callAll(props.next, onClick),\n    disabled: !props.loop && props.hasNext && !props.hasNext()\n  }, props));\n};\n\nvar StepNext = styled(hoist(StepNextComponent, Box))(_templateObject(), theme(\"StepNext\")); // @ts-ignore\n\nStepNext.propTypes = {\n  next: func.isRequired,\n  hasNext: func,\n  loop: bool,\n  onClick: func\n};\nvar StepNext$1 = use(StepNext, \"button\");\n\nfunction _templateObject$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  \", \";\\n\"]);\n\n  _templateObject$1 = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar StepPreviousComponent = function StepPreviousComponent(_ref) {\n  var onClick = _ref.onClick,\n      props = _objectWithoutPropertiesLoose(_ref, [\"onClick\"]);\n\n  return createElement(Box, _extends({\n    onClick: callAll(props.previous, onClick),\n    disabled: !props.loop && props.hasPrevious && !props.hasPrevious()\n  }, props));\n};\n\nvar StepPrevious = styled(hoist(StepPreviousComponent, Box))(_templateObject$1(), theme(\"StepPrevious\")); // @ts-ignore\n\nStepPrevious.propTypes = {\n  previous: func.isRequired,\n  hasPrevious: func,\n  loop: bool,\n  onClick: func\n};\nvar StepPrevious$1 = use(StepPrevious, \"button\");\n\nexport { StepContainer$1 as a, StepNext$1 as b, StepPrevious$1 as c };\n"]},"metadata":{},"sourceType":"module"}